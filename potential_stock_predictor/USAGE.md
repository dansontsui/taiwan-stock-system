# 🚀 潛力股預測系統使用指南

## 📋 選單系統使用方法

### 🎯 一鍵啟動

```bash
# 方法1：使用啟動器（推薦）
python start.py

# 方法2：直接啟動選單
python menu.py
```

### 📚 選單功能說明

#### 1️⃣ 🧪 系統測試
- **快速測試**: 檢查基本功能和套件
- **完整測試**: 測試所有功能模組
- **基本示範**: 機器學習功能展示
- **檢查依賴**: 查看已安裝的套件

#### 2️⃣ 🔬 資料處理
- **生成特徵資料**: 從財務資料提取機器學習特徵
- **生成目標變數**: 創建預測目標（20日內上漲5%）
- **批次處理**: 一次性處理所有資料
- **檢查資料品質**: 查看資料狀態

#### 3️⃣ 🤖 模型訓練
- **訓練基本模型**: Random Forest（推薦新手）
- **訓練所有模型**: 包含多種ML模型
- **超參數調校**: 自動優化模型參數
- **模型評估**: 查看訓練結果

#### 4️⃣ 🔮 執行預測
- **預測特定股票**: 輸入股票代碼進行預測
- **批次預測**: 預測所有股票
- **生成排行榜**: 潛力股TOP排行榜
- **預測並儲存**: 將結果保存到檔案

#### 5️⃣ 📊 查看結果
- **最新排行榜**: 查看最近的預測結果
- **歷史預測**: 瀏覽過往預測記錄
- **模型性能**: 查看模型準確率等指標
- **特徵重要性**: 了解哪些因素最重要

## 🚀 快速上手流程

### 第一次使用

1. **環境檢查**
   ```
   選單 1 → 1 (快速測試)
   ```
   確保系統正常運行

2. **準備資料**
   ```
   選單 2 → 3 (批次處理所有資料)
   ```
   這會自動生成特徵和目標變數

3. **訓練模型**
   ```
   選單 3 → 1 (訓練基本模型)
   ```
   使用Random Forest進行訓練

4. **執行預測**
   ```
   選單 4 → 3 (生成潛力股排行榜)
   ```
   生成TOP 20潛力股清單

5. **查看結果**
   ```
   選單 5 → 1 (查看最新排行榜)
   ```
   查看預測結果

### 日常使用

如果已經完成初始設置，日常使用只需：

1. **更新預測**
   ```
   選單 4 → 3 (生成潛力股排行榜)
   ```

2. **查看結果**
   ```
   選單 5 → 1 (查看最新排行榜)
   ```

## 💡 使用技巧

### 🎯 預測特定股票

1. 進入選單 4 → 1
2. 輸入股票代碼，例如：`2330,2317,2454`
3. 選擇模型：`random_forest`
4. 查看預測結果

### 📊 自訂排行榜數量

1. 進入選單 4 → 3
2. 設定排行榜數量，例如：`50`
3. 生成TOP 50潛力股清單

### 📅 指定預測日期

在任何預測功能中，都可以指定日期：
- 格式：`YYYY-MM-DD`
- 例如：`2024-12-31`

## ⚠️ 常見問題

### Q1: 套件導入失敗
**解決方法**：
```bash
pip install pandas numpy scikit-learn matplotlib
```

### Q2: 找不到資料庫
**解決方法**：
```bash
cd ../
python c.py  # 執行主系統收集資料
```

### Q3: 模型訓練失敗
**可能原因**：
- 資料不足
- 特徵檔案不存在

**解決方法**：
1. 先執行選單 2 → 3 (批次處理資料)
2. 再執行選單 3 → 1 (訓練模型)

### Q4: 預測結果為空
**可能原因**：
- 模型未訓練
- 股票代碼錯誤

**解決方法**：
1. 確保已完成模型訓練
2. 檢查股票代碼格式（例如：2330）

## 🔧 進階設定

### 修改預測參數

編輯 `config/config.py` 檔案：

```python
# 修改預測天數（預設20天）
'prediction_days': 30

# 修改目標報酬率（預設5%）
'target_return': 0.08

# 修改排行榜數量（預設50個）
'top_k_stocks': 100
```

### 添加新的技術指標

在 `src/utils/helpers.py` 中添加新函數：

```python
def calculate_new_indicator(prices, window=14):
    # 你的指標計算邏輯
    return indicator_values
```

## 📞 獲得幫助

1. **選單內說明**: 選單 7 → 4 (快速上手指南)
2. **完整文檔**: 查看 `README.md`
3. **安裝指南**: 查看 `INSTALL.md`

## 🎯 預測結果解讀

### 排行榜欄位說明

- **排名**: 預測機率排序
- **股票代碼**: 台股代碼
- **股票名稱**: 公司名稱
- **預測機率**: 上漲機率（0-1）
- **預測結果**: 1=看漲, 0=看跌

### 機率解讀

- **0.8以上**: 高度看漲
- **0.6-0.8**: 中度看漲
- **0.4-0.6**: 中性
- **0.4以下**: 看跌

## ⚡ 效能優化

### 加速預測

1. **使用較少股票**：指定特定股票代碼
2. **選擇簡單模型**：Random Forest比XGBoost快
3. **減少特徵數量**：編輯特徵工程代碼

### 提高準確率

1. **使用更多歷史資料**
2. **組合多個模型預測**
3. **定期重新訓練模型**

---

**🎉 祝你使用愉快，投資順利！** 📈
