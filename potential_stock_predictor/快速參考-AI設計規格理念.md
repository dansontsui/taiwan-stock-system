# å¿«é€Ÿåƒè€ƒï¼šæ™‚é–“å€é–“è¨­è¨ˆ

## ğŸš€ ä¸€åˆ†é˜ç†è§£

### æ ¸å¿ƒåŸå‰‡
```
ç‰¹å¾µè³‡æ–™ (éå») â†’ é æ¸¬ â†’ ç›®æ¨™è®Šæ•¸ (æœªä¾†)
     â†“              â†“           â†“
  2024-06-30    20å€‹äº¤æ˜“æ—¥    2024-07-30
```

## ğŸ“‹ æ¨™æº–æµç¨‹

### 1. è¨“ç·´éšæ®µ
```bash
# ç”Ÿæˆæ­·å²ç‰¹å¾µ (2022-2024)
python main.py generate-features --date 2024-06-30

# ç”Ÿæˆå°æ‡‰ç›®æ¨™è®Šæ•¸ (2022-2024çš„æœªä¾†çµæœ)
python main.py generate-targets --start-date 2022-01-01 --end-date 2024-06-30 --frequency quarterly

# è¨“ç·´æ¨¡å‹
python main.py train-models --features data/features/features_2024-06-30.csv --targets data/targets/targets_quarterly_2024-06-30.csv
```

### 2. é æ¸¬éšæ®µ
```bash
# ç”Ÿæˆç•¶å‰ç‰¹å¾µ (2025) - åªç”Ÿæˆé€™ä¸€å€‹æ—¥æœŸçš„ç‰¹å¾µ
python main.py generate-features --date 2025-06-01

# åŸ·è¡Œé æ¸¬
python main.py predict --stock-id 2330 --date 2025-06-01
```

## ğŸ’¡ é‡è¦æ¾„æ¸…

### å–®ä¸€æ—¥æœŸ vs æ‰¹æ¬¡ç”Ÿæˆ
```bash
# âŒ éŒ¯èª¤ç†è§£ï¼š
python main.py generate-features --date 2025-06-01
# æœƒç”Ÿæˆ2022-2025å¹´æ‰€æœ‰ç‰¹å¾µ

# âœ… æ­£ç¢ºç†è§£ï¼š
python main.py generate-features --date 2025-06-01
# åªç”Ÿæˆ2025-06-01é€™ä¸€å¤©çš„ç‰¹å¾µ
# ä½†æœƒä½¿ç”¨2023-06-01~2025-06-01çš„æ­·å²è³‡æ–™è¨ˆç®—
```

### è³‡æ–™æ”¶é›†ç¯„åœ
```
æŒ‡å®šæ—¥æœŸ: 2025-06-01
è³‡æ–™æ”¶é›†: 2023-06-01 ~ 2025-06-01 (å›çœ‹2å¹´)
è¼¸å‡ºçµæœ: 1ç­†ç‰¹å¾µè¨˜éŒ„
```

## âš ï¸ å¸¸è¦‹éŒ¯èª¤

### âŒ éŒ¯èª¤ï¼šç”¨æœªä¾†é æ¸¬éå»
```
ç‰¹å¾µæ—¥æœŸï¼š2025-06-01
ç›®æ¨™è®Šæ•¸ï¼š2022-2024å¹´  â† éŒ¯èª¤ï¼
```

### âœ… æ­£ç¢ºï¼šç”¨éå»é æ¸¬æœªä¾†
```
ç›®æ¨™è®Šæ•¸ï¼š2022-2024å¹´  â† è¨“ç·´ç”¨
ç‰¹å¾µæ—¥æœŸï¼š2025-06-01   â† é æ¸¬ç”¨
```

## ğŸ¯ è¨˜æ†¶å£è¨£

**"éå»è¨“ç·´ï¼Œç•¶ä¸‹é æ¸¬ï¼Œæœªä¾†é©—è­‰"**

- ç”¨**éå»**çš„è³‡æ–™è¨“ç·´æ¨¡å‹
- ç”¨**ç•¶ä¸‹**çš„è³‡æ–™åŸ·è¡Œé æ¸¬  
- ç­‰**æœªä¾†**çš„çµæœé©—è­‰æº–ç¢ºæ€§

## ğŸ“… æ™‚é–“è¡¨ç¯„ä¾‹

| éšæ®µ | ç‰¹å¾µæ—¥æœŸ | ç›®æ¨™æ—¥æœŸ | ç”¨é€” |
|------|----------|----------|------|
| è¨“ç·´ | 2024-06-30 | 2024-07-30 | å­¸ç¿’è¦å¾‹ |
| é æ¸¬ | 2025-06-01 | 2025-07-01 | å¯¦éš›é æ¸¬ |
| é©—è­‰ | - | 2025-07-01 | æª¢æŸ¥æº–ç¢ºæ€§ |

## ğŸš€ å¯¦éš›é‹ä½œé‚è¼¯

### é æ¸¬æ™‚åªéœ€è¦ä¸€å€‹æ—¥æœŸ
```bash
# âœ… æ­£ç¢ºï¼šåªç”Ÿæˆæœ€æ–°æ—¥æœŸçš„ç‰¹å¾µ
python main.py generate-features --date 2024-12-30 --stock-ids 2330
python main.py predict --stock-id 2330 --date 2024-12-30
```

### ç‚ºä»€éº¼ä¸€å€‹æ—¥æœŸå°±å¤ ï¼Ÿ
```
2024-12-30çš„ç‰¹å¾µå·²ç¶“åŒ…å«ï¼š
â”œâ”€â”€ RSI (14å¤©) â† æœ€è¿‘14å¤©çš„åƒ¹æ ¼å‹•èƒ½
â”œâ”€â”€ ç§»å‹•å¹³å‡ (20å¤©) â† æœ€è¿‘20å¤©çš„åƒ¹æ ¼è¶¨å‹¢
â”œâ”€â”€ ç‡Ÿæ”¶æˆé•·ç‡ â† æœ€è¿‘å¹¾å­£çš„ç‡Ÿæ”¶è®ŠåŒ–
â”œâ”€â”€ åƒ¹æ ¼å‹•é‡ â† æœ€è¿‘çš„åƒ¹æ ¼è®ŠåŒ–
â””â”€â”€ æˆäº¤é‡æŒ‡æ¨™ â† æœ€è¿‘çš„äº¤æ˜“æ´»èºåº¦

= å®Œæ•´çš„å¸‚å ´ç‹€æ…‹å¿«ç…§
```

### ä»€éº¼æ™‚å€™éœ€è¦å¤šå€‹æ—¥æœŸï¼Ÿ

#### è¨“ç·´æ¨¡å‹æ™‚ï¼ˆä¸€æ¬¡æ€§ï¼‰ï¼š
```bash
# éœ€è¦å¤šå€‹æ­·å²æ—¥æœŸ
python main.py generate-features --date 2022-03-31
python main.py generate-features --date 2022-06-30
# ... å¾ˆå¤šå€‹æ—¥æœŸ
```

#### æ—¥å¸¸é æ¸¬æ™‚ï¼ˆç¶“å¸¸æ€§ï¼‰ï¼š
```bash
# åªéœ€è¦æœ€æ–°çš„ä¸€å€‹æ—¥æœŸ
python main.py generate-features --date 2024-12-30
```

### æ›´æ–°é »ç‡å»ºè­°
```bash
# æ¯é€±é æ¸¬
python main.py generate-features --date 2025-01-07
python main.py generate-features --date 2025-01-14

# æ¯æœˆé æ¸¬
python main.py generate-features --date 2025-01-31
python main.py generate-features --date 2025-02-28
```

## ğŸ’¡ æ ¸å¿ƒè¨˜æ†¶é»

**é æ¸¬æ™‚**ï¼šåªç”Ÿæˆæœ€æ–°æ—¥æœŸçš„ç‰¹å¾µï¼ˆ1å€‹æ—¥æœŸï¼‰
**é€™å€‹ç‰¹å¾µ**ï¼šå·²åŒ…å«æ‰€æœ‰éœ€è¦çš„æ­·å²è³‡è¨Š
**æ›´æ–°é »ç‡**ï¼šæƒ³å¤šå¸¸é æ¸¬å°±å¤šå¸¸ç”Ÿæˆæ–°ç‰¹å¾µ

**ä¸éœ€è¦æ¯å€‹æœˆéƒ½ç”Ÿæˆï¼Œåªéœ€è¦åœ¨æƒ³é æ¸¬æ™‚ç”Ÿæˆæœ€æ–°çš„é‚£ä¸€å¤©ï¼**

---
**é—œéµï¼šæ°¸é ç¢ºä¿ç‰¹å¾µæ—¥æœŸ < ç›®æ¨™æ—¥æœŸ**
å¦‚æœæ‚¨æƒ³æ¯é€±é æ¸¬ä¸€æ¬¡ï¼š
# ç¬¬1é€±
python main.py generate-features --date 2025-01-07
python main.py predict --stock-id 2330 --date 2025-01-07

# ç¬¬2é€±  
python main.py generate-features --date 2025-01-14
python main.py predict --stock-id 2330 --date 2025-01-14

# ç¬¬3é€±
python main.py generate-features --date 2025-01-21
python main.py predict --stock-id 2330 --date 2025-01-21


å¦‚æœæ‚¨æƒ³æ¯æœˆé æ¸¬ä¸€æ¬¡ï¼š
# 1æœˆé æ¸¬
python main.py generate-features --date 2025-01-31
python main.py predict --stock-id 2330 --date 2025-01-31

# 2æœˆé æ¸¬
python main.py generate-features --date 2025-02-28  
python main.py predict --stock-id 2330 --date 2025-02-28

ç‚ºä½•æ¨¡å‹ä¸æ˜¯ä¾æ“šè‚¡ç¥¨å»ºç«‹å„è‡ªæ¨¡å‹??
ä½†ç‰¹å¾µ è·Ÿ é æ¸¬ å»æ˜¯é‡å°è‚¡ç¥¨??


é€™æ˜¯ä¸€å€‹éå¸¸å¥½çš„å•é¡Œï¼æ‚¨è§¸åŠäº†æ©Ÿå™¨å­¸ç¿’æ¨¡å‹è¨­è¨ˆçš„æ ¸å¿ƒæ¦‚å¿µã€‚è®“æˆ‘è©³ç´°è§£é‡‹ç‚ºä»€éº¼æ˜¯é€™æ¨£è¨­è¨ˆçš„ã€‚

ğŸ¯ ç‚ºä»€éº¼ä¸æ˜¯æ¯å€‹è‚¡ç¥¨å»ºç«‹å„è‡ªæ¨¡å‹ï¼Ÿ
ç•¶å‰è¨­è¨ˆï¼šé€šç”¨æ¨¡å‹
ä¸€å€‹æ¨¡å‹ â†’ é æ¸¬æ‰€æœ‰è‚¡ç¥¨
â”œâ”€â”€ Random Forest æ¨¡å‹ (1å€‹)
â”œâ”€â”€ Logistic Regression æ¨¡å‹ (1å€‹)
â””â”€â”€ ç”¨æ–¼é æ¸¬ï¼š2330, 8299, 1301, ... æ‰€æœ‰è‚¡ç¥¨

ç‚ºä»€éº¼é¸æ“‡é€šç”¨æ¨¡å‹ï¼Ÿ
å€‹åˆ¥æ¨¡å‹çš„å•é¡Œï¼š
â”œâ”€â”€ å°ç©é›»ï¼šå¯èƒ½æœ‰è¶³å¤ è³‡æ–™è¨“ç·´
â”œâ”€â”€ å°å‹è‚¡ï¼šè³‡æ–™ä¸è¶³ï¼Œæ¨¡å‹ä¸ç©©å®š
â””â”€â”€ æ–°ä¸Šå¸‚è‚¡ï¼šå¹¾ä¹æ²’æœ‰æ­·å²è³‡æ–™

é€šç”¨æ¨¡å‹çš„å„ªå‹¢ï¼š
â”œâ”€â”€ åŒ¯é›†æ‰€æœ‰è‚¡ç¥¨çš„è³‡æ–™
â”œâ”€â”€ å­¸ç¿’æ•´é«”å¸‚å ´è¦å¾‹
â””â”€â”€ å°å‹è‚¡ä¹Ÿèƒ½å—ç›Šæ–¼å¤§å‹è‚¡çš„ç¶“é©—
è‚¡ç¥¨å¸‚å ´çš„å…±åŒç‰¹å¾µï¼š
â”œâ”€â”€ æŠ€è¡“æŒ‡æ¨™é‚è¼¯ç›¸åŒ (RSI, ç§»å‹•å¹³å‡)
â”œâ”€â”€ å¸‚å ´æƒ…ç·’å½±éŸ¿ç›¸ä¼¼
â”œâ”€â”€ ç¶“æ¿Ÿé€±æœŸå½±éŸ¿ä¸€è‡´
â””â”€â”€ æŠ•è³‡è€…è¡Œç‚ºæ¨¡å¼é¡ä¼¼
é€šç”¨æ¨¡å‹ï¼š
â”œâ”€â”€ ç¶­è­·æˆæœ¬ä½ (1å€‹æ¨¡å‹ vs 2000+å€‹)
â”œâ”€â”€ æ›´æ–°ç°¡å–®
â”œâ”€â”€ è¨ˆç®—è³‡æºéœ€æ±‚åˆç†
â””â”€â”€ æ–°è‚¡ç¥¨å¯ç«‹å³é æ¸¬

å€‹åˆ¥æ¨¡å‹ï¼š
â”œâ”€â”€ ç¶­è­·æˆæœ¬æ¥µé«˜
â”œâ”€â”€ éœ€è¦å¤§é‡è¨ˆç®—è³‡æº
â”œâ”€â”€ æ–°è‚¡ç¥¨ç„¡æ³•é æ¸¬
â””â”€â”€ å°å‹è‚¡é æ¸¬ä¸ç©©å®š

ç‰¹å¾µå€‹åˆ¥åŒ– vs æ¨¡å‹é€šç”¨åŒ–
ç‚ºä»€éº¼ç‰¹å¾µè¦å€‹åˆ¥åŒ–ï¼Ÿ
æ¯å€‹è‚¡ç¥¨çš„ç‰¹å¾µä¸åŒï¼š
â”œâ”€â”€ å°ç©é›» 2024-12-30: RSI=65, ç‡Ÿæ”¶æˆé•·=20%
â”œâ”€â”€ ç¾¤è¯ 2024-12-30: RSI=59, ç‡Ÿæ”¶æˆé•·=55%
â””â”€â”€ æ¯å€‹è‚¡ç¥¨åœ¨åŒä¸€æ™‚é–“é»çš„å¸‚å ´ç‹€æ…‹ä¸åŒ
ç‚ºä»€éº¼æ¨¡å‹è¦é€šç”¨åŒ–ï¼Ÿ
é æ¸¬é‚è¼¯æ˜¯ç›¸åŒçš„ï¼š
â”œâ”€â”€ RSI > 70 â†’ å¯èƒ½éç†±
â”œâ”€â”€ ç‡Ÿæ”¶æˆé•· > 20% â†’ åŸºæœ¬é¢è‰¯å¥½  
â”œâ”€â”€ æˆäº¤é‡æ”¾å¤§ â†’ å¸‚å ´é—œæ³¨åº¦é«˜
â””â”€â”€ é€™äº›è¦å¾‹å°æ‰€æœ‰è‚¡ç¥¨éƒ½é©ç”¨
é¡æ¯”èªªæ˜
é†«å­¸è¨ºæ–·çš„ä¾‹å­
âŒ ä¸æœƒé€™æ¨£åšï¼š
â”œâ”€â”€ ç‚ºæ¯å€‹ç—…äººå»ºç«‹å°ˆå±¬è¨ºæ–·æ¨¡å‹
â””â”€â”€ éœ€è¦10å„„å€‹æ¨¡å‹

âœ… å¯¦éš›åšæ³•ï¼š
â”œâ”€â”€ ä¸€å€‹é€šç”¨è¨ºæ–·æ¨¡å‹
â”œâ”€â”€ è¼¸å…¥æ¯å€‹ç—…äººçš„å€‹åˆ¥ç—‡ç‹€
â””â”€â”€ è¼¸å‡ºè©²ç—…äººçš„è¨ºæ–·çµæœ
è‚¡ç¥¨é æ¸¬çš„é‚è¼¯
âœ… æˆ‘å€‘çš„åšæ³•ï¼š
â”œâ”€â”€ ä¸€å€‹é€šç”¨é æ¸¬æ¨¡å‹ (å­¸ç¿’å¸‚å ´è¦å¾‹)
â”œâ”€â”€ è¼¸å…¥æ¯å€‹è‚¡ç¥¨çš„å€‹åˆ¥ç‰¹å¾µ
â””â”€â”€ è¼¸å‡ºè©²è‚¡ç¥¨çš„é æ¸¬çµæœ
æŠ€è¡“å±¤é¢è§£é‡‹
æ¨¡å‹å­¸ç¿’çš„æ˜¯ä»€éº¼ï¼Ÿ
  # æ¨¡å‹å­¸ç¿’çš„è¦å¾‹ (ç°¡åŒ–ç‰ˆ)
  if RSI > 70 and ç‡Ÿæ”¶æˆé•· < 5%:
      return "çœ‹è·Œ"
  elif RSI < 30 and ç‡Ÿæ”¶æˆé•· > 20%:
      return "çœ‹æ¼²"
  else:
      return "æŒå¹³"

é€™äº›è¦å¾‹å°æ‰€æœ‰è‚¡ç¥¨éƒ½é©ç”¨ï¼Œæ‰€ä»¥ä¸éœ€è¦æ¯å€‹è‚¡ç¥¨å»ºç«‹å°ˆå±¬æ¨¡å‹ã€‚

é æ¸¬æ™‚çš„æµç¨‹
# é æ¸¬å°ç©é›»
features_2330 = [RSI=65, ç‡Ÿæ”¶æˆé•·=20%, ...]
prediction = universal_model.predict(features_2330)

# é æ¸¬ç¾¤è¯  
features_8299 = [RSI=59, ç‡Ÿæ”¶æˆé•·=55%, ...]
prediction = universal_model.predict(features_8299)

é€²éšè¨­è¨ˆé¸é …
å¦‚æœçœŸçš„è¦å€‹åˆ¥åŒ–ï¼Œå¯èƒ½çš„æ–¹æ¡ˆï¼š
1. è¡Œæ¥­åˆ¥æ¨¡å‹
â”œâ”€â”€ ç§‘æŠ€è‚¡æ¨¡å‹ (å°ç©é›»ã€è¯ç™¼ç§‘...)
â”œâ”€â”€ é‡‘èè‚¡æ¨¡å‹ (å°ç©é›»ã€ç‰å±±é‡‘...)
â”œâ”€â”€ å‚³ç”¢è‚¡æ¨¡å‹ (å°å¡‘ã€ä¸­é‹¼...)
â””â”€â”€ ç”ŸæŠ€è‚¡æ¨¡å‹ (...)
å¸‚å€¼åˆ¥æ¨¡å‹
â”œâ”€â”€ å¤§å‹è‚¡æ¨¡å‹ (å¸‚å€¼ > 1000å„„)
â”œâ”€â”€ ä¸­å‹è‚¡æ¨¡å‹ (å¸‚å€¼ 100-1000å„„)
â””â”€â”€ å°å‹è‚¡æ¨¡å‹ (å¸‚å€¼ < 100å„„)
æ··åˆæ¨¡å‹
â”œâ”€â”€ é€šç”¨åŸºç¤æ¨¡å‹ (å­¸ç¿’å…±åŒè¦å¾‹)
â”œâ”€â”€ å€‹è‚¡èª¿æ•´å› å­ (å­¸ç¿’å€‹åˆ¥ç‰¹æ€§)
â””â”€â”€ æœ€çµ‚é æ¸¬ = åŸºç¤é æ¸¬ Ã— èª¿æ•´å› å­
ğŸ’¡ ç¸½çµ
ç•¶å‰è¨­è¨ˆçš„å„ªå‹¢ï¼š
âœ… è³‡æ–™æ•ˆç‡é«˜ - å……åˆ†åˆ©ç”¨æ‰€æœ‰è‚¡ç¥¨è³‡æ–™
âœ… ç¶­è­·æˆæœ¬ä½ - åªéœ€ç¶­è­·ä¸€å€‹æ¨¡å‹
âœ… æ³›åŒ–èƒ½åŠ›å¼· - æ–°è‚¡ç¥¨ä¹Ÿèƒ½é æ¸¬
âœ… ç©©å®šæ€§å¥½ - ä¸æœƒå› å€‹åˆ¥è‚¡ç¥¨è³‡æ–™ä¸è¶³è€Œå¤±æ•ˆ
é€™å°±æ˜¯ç‚ºä»€éº¼ï¼š
æ¨¡å‹é€šç”¨ - å­¸ç¿’å¸‚å ´å…±åŒè¦å¾‹
ç‰¹å¾µå€‹åˆ¥ - åæ˜ æ¯å€‹è‚¡ç¥¨çš„ç•¶å‰ç‹€æ…‹
é æ¸¬å€‹åˆ¥ - é‡å°æ¯å€‹è‚¡ç¥¨çµ¦å‡ºå°ˆå±¬é æ¸¬
é€™ç¨®è¨­è¨ˆåœ¨é‡‘èæ©Ÿå™¨å­¸ç¿’ä¸­æ˜¯æ¨™æº–åšæ³•ï¼Œå¹³è¡¡äº†æ•ˆæœã€æ•ˆç‡å’Œå¯¦ç”¨æ€§ï¼

