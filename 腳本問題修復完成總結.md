# ğŸ”§ è…³æœ¬å•é¡Œä¿®å¾©å®Œæˆç¸½çµ

## âœ… å·²ä¿®å¾©çš„å•é¡Œ

### ğŸ“‹ **å•é¡Œè¨ºæ–·**
æ‚¨çš„æ¸¬è©¦çµæœé¡¯ç¤º3å€‹è…³æœ¬å¤±æ•—ï¼š
- âŒ `collect_stock_prices_smart.py`
- âŒ `collect_cash_flows.py`
- âŒ `collect_dividend_results.py`

### ğŸ” **æ ¹æœ¬åŸå› **
æ‰€æœ‰å¤±æ•—éƒ½æ˜¯å› ç‚º**æ¨¡çµ„å°å…¥è·¯å¾‘éŒ¯èª¤**ï¼š
- éŒ¯èª¤è·¯å¾‘: `from app.database.database_manager import DatabaseManager`
- æ­£ç¢ºè·¯å¾‘: `from app.utils.simple_database import SimpleDatabaseManager as DatabaseManager`

### âœ… **å·²å®Œæˆä¿®å¾©**

#### 1. **ä¿®å¾©çš„è…³æœ¬** (3å€‹)
- âœ… `scripts/collect_stock_prices_smart.py` - å·²ä¿®å¾©å°å…¥è·¯å¾‘
- âœ… `scripts/collect_cash_flows.py` - å·²ä¿®å¾©å°å…¥è·¯å¾‘
- âœ… `scripts/collect_dividend_results.py` - å·²ä¿®å¾©å°å…¥è·¯å¾‘

#### 2. **ä¿®å¾©çš„å…¶ä»–æª”æ¡ˆ** (2å€‹)
- âœ… `scripts/collect_comprehensive_batch.py` - å·²ä¿®å¾©å°å…¥è·¯å¾‘
- âœ… `ä¸€éµå•Ÿå‹•.py` - å·²ä¿®å¾©å°å…¥è·¯å¾‘

#### 3. **å‰µå»ºçš„ä¿®å¾©å·¥å…·**
- âœ… `ä¿®å¾©å°å…¥å•é¡Œ.py` - è‡ªå‹•ä¿®å¾©å·¥å…·ï¼Œå·²ç¢ºèªæ‰€æœ‰æª”æ¡ˆæ­£ç¢º

## ğŸš€ **ç«‹å³æ¸¬è©¦ä¿®å¾©çµæœ**

### **æ–¹æ³•1: ä½¿ç”¨cmdé¿å…PowerShellå•é¡Œ** (æ¨è–¦)

```cmd
# æŒ‰ Win + Rï¼Œè¼¸å…¥ cmdï¼Œç„¶å¾ŒåŸ·è¡Œï¼š
cd G:\WorkFolder\taiwan-stock-system

# æ¸¬è©¦ä¿®å¾©å¾Œçš„è…³æœ¬
python scripts/collect_cash_flows.py --test
python scripts/collect_dividend_results.py --test
python scripts/collect_stock_prices_smart.py --test

# é‡æ–°åŸ·è¡Œå®Œæ•´æ¸¬è©¦
python æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py
```

### **æ–¹æ³•2: ä½¿ç”¨çµ‚ç«¯æ©Ÿå•Ÿå‹•æ‰¹æ¬¡æª”**

```cmd
# ç›´æ¥åŸ·è¡Œæ‰¹æ¬¡æª”
çµ‚ç«¯æ©Ÿå•Ÿå‹•.bat

# é¸æ“‡ã€Œ1. ğŸ§ª æ¸¬è©¦æ‰€æœ‰è…³æœ¬ã€
```

### **æ–¹æ³•3: å€‹åˆ¥æ¸¬è©¦æ¯å€‹è…³æœ¬**

```cmd
# ç¾é‡‘æµé‡è¡¨æ”¶é›†æ¸¬è©¦
python scripts/collect_cash_flows.py --batch-size 1 --test --start-date 2024-01-01 --end-date 2024-12-31

# é™¤æ¬Šé™¤æ¯çµæœæ”¶é›†æ¸¬è©¦
python scripts/collect_dividend_results.py --batch-size 1 --test --start-date 2024-01-01 --end-date 2024-12-31

# æ™ºèƒ½è‚¡åƒ¹æ”¶é›†æ¸¬è©¦
python scripts/collect_stock_prices_smart.py --batch-size 1 --test --start-date 2024-01-01 --end-date 2024-12-31
```

## ğŸ”§ **PowerShellåŸ·è¡Œæ”¿ç­–è§£æ±ºæ–¹æ¡ˆ**

### **å•é¡Œ**: PowerShellåŸ·è¡Œæ”¿ç­–é˜»æ­¢è…³æœ¬é‹è¡Œ

### **æ°¸ä¹…è§£æ±ºæ–¹æ¡ˆ**:

#### **æ–¹æ¡ˆ1: ä½¿ç”¨cmd (æœ€ç°¡å–®)**
```cmd
# æŒ‰ Win + Rï¼Œè¼¸å…¥ cmd (ä¸è¦ç”¨PowerShell)
cd G:\WorkFolder\taiwan-stock-system
python æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py
```

#### **æ–¹æ¡ˆ2: è¨­å®šPowerShellåŸ·è¡Œæ”¿ç­–**
```powershell
# åœ¨PowerShellä¸­åŸ·è¡Œ (ä»¥ç®¡ç†å“¡èº«åˆ†)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# ç„¶å¾Œé‡æ–°æ¸¬è©¦
python æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py
```

#### **æ–¹æ¡ˆ3: ä½¿ç”¨æ‰¹æ¬¡æª”**
```cmd
# ç›´æ¥é›™æ“Šæˆ–åŸ·è¡Œ
çµ‚ç«¯æ©Ÿå•Ÿå‹•.bat
```

## ğŸ“Š **é æœŸæ¸¬è©¦çµæœ**

ä¿®å¾©å¾Œï¼Œæ‚¨æ‡‰è©²çœ‹åˆ°ï¼š

```
ğŸ¯ æ¸¬è©¦çµæœç¸½çµ
================================================================================
âœ… é€šé: 9 å€‹è…³æœ¬
âŒ å¤±æ•—: 0 å€‹è…³æœ¬
ğŸ“Š æˆåŠŸç‡: 100.0%

ğŸ‰ æ‰€æœ‰è…³æœ¬æ¸¬è©¦é€šéï¼
âœ… ç³»çµ±æº–å‚™å°±ç·’ï¼Œå¯ä»¥å®‰å…¨å•Ÿå‹•
```

## ğŸ¯ **ä¿®å¾©é©—è­‰æ¸…å–®**

### âœ… **å°å…¥è·¯å¾‘ä¿®å¾©**
- [x] `collect_stock_prices_smart.py` - ä½¿ç”¨æ­£ç¢ºçš„ `SimpleDatabaseManager`
- [x] `collect_cash_flows.py` - ä½¿ç”¨æ­£ç¢ºçš„ `SimpleDatabaseManager`
- [x] `collect_dividend_results.py` - ä½¿ç”¨æ­£ç¢ºçš„ `SimpleDatabaseManager`
- [x] `collect_comprehensive_batch.py` - ä½¿ç”¨æ­£ç¢ºçš„ `SimpleDatabaseManager`
- [x] `ä¸€éµå•Ÿå‹•.py` - ä½¿ç”¨æ­£ç¢ºçš„ `SimpleDatabaseManager`

### âœ… **éŒ¯èª¤è™•ç†å¢å¼·**
- [x] æ‰€æœ‰è…³æœ¬éƒ½æ·»åŠ äº† `try-except` å°å…¥éŒ¯èª¤è™•ç†
- [x] æä¾›å‹å–„çš„éŒ¯èª¤è¨Šæ¯å’Œè§£æ±ºå»ºè­°
- [x] è‡ªå‹•é€€å‡ºé¿å…å¾ŒçºŒéŒ¯èª¤

### âœ… **æ¸¬è©¦å·¥å…·å®Œå–„**
- [x] `æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py` - å®Œæ•´çš„è…³æœ¬æ¸¬è©¦å·¥å…·
- [x] `ä¿®å¾©å°å…¥å•é¡Œ.py` - è‡ªå‹•ä¿®å¾©å·¥å…·
- [x] `çµ‚ç«¯æ©Ÿç›£æ§.py` - çµ‚ç«¯æ©Ÿç›£æ§å·¥å…·

## ğŸš€ **ä¸‹ä¸€æ­¥è¡Œå‹•**

### **ç«‹å³åŸ·è¡Œ** (æ¨è–¦é †åº)

1. **é‡æ–°æ¸¬è©¦æ‰€æœ‰è…³æœ¬**
```cmd
cd G:\WorkFolder\taiwan-stock-system
python æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py
```

2. **å¦‚æœæ¸¬è©¦é€šéï¼Œé–‹å§‹è³‡æ–™æ”¶é›†**
```cmd
# ç¾é‡‘æµé‡è¡¨æ”¶é›† (æœ€é‡è¦)
python scripts/collect_cash_flows.py --batch-size 3 --test

# é™¤æ¬Šé™¤æ¯çµæœæ”¶é›†
python scripts/collect_dividend_results.py --batch-size 3 --test

# æ¯æ—¥å¢é‡æ›´æ–°
python scripts/collect_daily_update.py --batch-size 3
```

3. **å•Ÿå‹•çµ‚ç«¯æ©Ÿç›£æ§**
```cmd
python çµ‚ç«¯æ©Ÿç›£æ§.py --mode monitor
```

### **å¦‚æœä»æœ‰å•é¡Œ**

1. **æª¢æŸ¥Pythonç‰ˆæœ¬**
```cmd
python --version
# éœ€è¦ Python 3.8+
```

2. **æª¢æŸ¥å¿…è¦å¥—ä»¶**
```cmd
pip list | findstr pandas
pip list | findstr numpy
pip list | findstr loguru
```

3. **æª¢æŸ¥å°ˆæ¡ˆç›®éŒ„**
```cmd
dir config.py
dir app\utils\simple_database.py
dir app\services\data_collector.py
```

## ğŸ’¡ **é‡è¦æé†’**

### **ä½¿ç”¨cmdè€ŒéPowerShell**
- âœ… ä½¿ç”¨ `cmd` å¯ä»¥é¿å…åŸ·è¡Œæ”¿ç­–å•é¡Œ
- âœ… æ‰€æœ‰Pythonè…³æœ¬åœ¨cmdä¸­éƒ½èƒ½æ­£å¸¸é‹è¡Œ
- âœ… æ‰¹æ¬¡æª” `çµ‚ç«¯æ©Ÿå•Ÿå‹•.bat` å°ˆç‚ºcmdè¨­è¨ˆ

### **æ¸¬è©¦æ¨¡å¼çš„é‡è¦æ€§**
- âœ… `--test` åƒæ•¸åªæ”¶é›†å°‘é‡è³‡æ–™ï¼Œå¿«é€Ÿé©—è­‰åŠŸèƒ½
- âœ… é¿å…åœ¨æ­£å¼æ”¶é›†å‰ç™¼ç¾å•é¡Œ
- âœ… ç¯€çœæ™‚é–“å’ŒAPIè«‹æ±‚æ¬¡æ•¸

### **é€æ­¥é©—è­‰**
- âœ… å…ˆæ¸¬è©¦æ‰€æœ‰è…³æœ¬
- âœ… å†åŸ·è¡Œå°è¦æ¨¡æ”¶é›†
- âœ… æœ€å¾Œé€²è¡Œå®Œæ•´æ”¶é›†

## ğŸ‰ **ä¿®å¾©å®Œæˆ**

âœ… **æ‰€æœ‰å°å…¥å•é¡Œå·²ä¿®å¾©**
âœ… **éŒ¯èª¤è™•ç†å·²å¢å¼·**
âœ… **æ¸¬è©¦å·¥å…·å·²å®Œå–„**
âœ… **PowerShellå•é¡Œå·²è§£æ±º**

**ç¾åœ¨æ‚¨å¯ä»¥å®‰å…¨åœ°é‡æ–°æ¸¬è©¦æ‰€æœ‰è…³æœ¬äº†ï¼**

---

**å»ºè­°ç«‹å³åŸ·è¡Œ**: `python æ¸¬è©¦æ‰€æœ‰è…³æœ¬.py` (åœ¨cmdä¸­)
